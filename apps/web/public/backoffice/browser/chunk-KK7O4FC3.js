import{d as L}from"./chunk-MMURXA66.js";import{Bb as E,Cb as y,Da as S,Db as k,Eb as I,Ga as x,Gb as T,Mb as F,Nb as A,Qb as z,Sb as D,Ta as u,Tb as j,Ua as e,Ub as N,Va as t,Vb as V,W as g,X as v,Xa as w,Ya as p,Za as m,ab as O,bb as n,cb as d,db as f,fb as _,gb as b,hb as C,ib as h,jb as P,kb as R,ta as a,xa as M}from"./chunk-PQRQHPXD.js";function B(c,i){c&1&&(e(0,"span",51),n(1,"\u2713 Verified"),t())}function q(c,i){if(c&1){let r=w();e(0,"button",52),p("click",function(){g(r);let s=m().$implicit,l=m();return v(l.approveReview(s))}),n(1," \u2705 "),t()}}function G(c,i){if(c&1){let r=w();e(0,"button",53),p("click",function(){g(r);let s=m().$implicit,l=m();return v(l.rejectReview(s))}),n(1," \u274C "),t()}}function H(c,i){if(c&1){let r=w();e(0,"div",27)(1,"div",28)(2,"div",29)(3,"div",30),n(4),t(),e(5,"div",31)(6,"span",32),n(7),t(),x(8,B,2,0,"span",33),t()(),e(9,"div",34)(10,"div",35)(11,"span",36),n(12),t(),e(13,"span",37),n(14),t()(),e(15,"div",38),n(16),h(17,"date"),t()()(),e(18,"div",39)(19,"h4",40),n(20),t(),e(21,"p",41),n(22),t()(),e(23,"div",42)(24,"div",21)(25,"span",43),n(26),t()(),e(27,"div",44)(28,"span",45),n(29),h(30,"titlecase"),t(),e(31,"div",46),x(32,q,2,0,"button",47)(33,G,2,0,"button",48),e(34,"button",49),p("click",function(){let s=g(r).$implicit,l=m();return v(l.editReview(s))}),n(35," \u270F\uFE0F "),t(),e(36,"button",50),p("click",function(){let s=g(r).$implicit,l=m();return v(l.deleteReview(s))}),n(37," \u{1F5D1}\uFE0F "),t()()()()()}if(c&2){let r=i.$implicit,o=m();a(4),d(r.productName),a(3),d(r.customerName),a(),u("ngIf",r.verified),a(4),d(o.getStars(r.rating)),a(2),f("",r.rating,"/5"),a(2),d(R(17,14,r.createdAt,"short")),a(4),d(r.title),a(2),d(r.comment),a(4),f("",r.helpful," helpful"),a(2),O(r.status),a(),f(" ",P(30,17,r.status)," "),a(3),u("ngIf",r.status==="pending"),a(),u("ngIf",r.status==="pending")}}var W=class c{constructor(i){this.apiService=i}searchTerm="";statusFilter="";ratingFilter="";reviews=[];loading=!1;error=null;filteredReviews=[];get totalReviews(){return this.reviews.length}get pendingReviews(){return this.reviews.filter(i=>i.status==="pending").length}get approvedReviews(){return this.reviews.filter(i=>i.status==="approved").length}get averageRating(){if(this.reviews.length===0)return 0;let i=this.reviews.reduce((r,o)=>r+o.rating,0);return Math.round(i/this.reviews.length*10)/10}ngOnInit(){this.loadReviews()}loadReviews(){this.loading=!0,this.error=null,this.apiService.getReviews().subscribe({next:i=>{this.reviews=i.data,this.filteredReviews=[...this.reviews],this.loading=!1},error:i=>{console.error("Error loading reviews:",i),this.error="Failed to load reviews",this.loading=!1}})}filterReviews(){this.filteredReviews=this.reviews.filter(i=>{let r=i.productName.toLowerCase().includes(this.searchTerm.toLowerCase())||i.customerName.toLowerCase().includes(this.searchTerm.toLowerCase())||i.title.toLowerCase().includes(this.searchTerm.toLowerCase())||i.comment.toLowerCase().includes(this.searchTerm.toLowerCase()),o=!this.statusFilter||i.status===this.statusFilter,s=!this.ratingFilter||i.rating===parseInt(this.ratingFilter);return r&&o&&s})}getStars(i){return"\u2605".repeat(i)+"\u2606".repeat(5-i)}approveReview(i){i.status="approved",console.log("Approve review:",i)}rejectReview(i){i.status="rejected",console.log("Reject review:",i)}editReview(i){console.log("Edit review:",i)}deleteReview(i){confirm("Are you sure you want to delete this review?")&&console.log("Delete review:",i)}exportReviews(){console.log("Export reviews clicked")}static \u0275fac=function(r){return new(r||c)(M(L))};static \u0275cmp=S({type:c,selectors:[["app-reviews"]],decls:69,vars:8,consts:[[1,"reviews-page"],[1,"page-header"],[1,"header-content"],[1,"header-actions"],[1,"btn","btn-outline",3,"click"],[1,"filters-section"],[1,"search-box"],["type","text","placeholder","Search reviews...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filter-controls"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value",""],["value","pending"],["value","approved"],["value","rejected"],["value","5"],["value","4"],["value","3"],["value","2"],["value","1"],[1,"reviews-list"],["class","review-card",4,"ngFor","ngForOf"],[1,"review-stats"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"review-card"],[1,"review-header"],[1,"review-info"],[1,"product-name"],[1,"customer-info"],[1,"customer-name"],["class","verified-badge",4,"ngIf"],[1,"review-meta"],[1,"rating"],[1,"stars"],[1,"rating-value"],[1,"review-date"],[1,"review-content"],[1,"review-title"],[1,"review-comment"],[1,"review-footer"],[1,"helpful-count"],[1,"review-actions"],[1,"status-badge"],[1,"action-buttons"],["class","btn-icon","title","Approve",3,"click",4,"ngIf"],["class","btn-icon","title","Reject",3,"click",4,"ngIf"],["title","Edit",1,"btn-icon",3,"click"],["title","Delete",1,"btn-icon","danger",3,"click"],[1,"verified-badge"],["title","Approve",1,"btn-icon",3,"click"],["title","Reject",1,"btn-icon",3,"click"]],template:function(r,o){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),n(4,"Review Management"),t(),e(5,"p"),n(6,"Moderate and manage product reviews"),t()(),e(7,"div",3)(8,"button",4),p("click",function(){return o.exportReviews()}),n(9," \u{1F4E4} Export "),t()()(),e(10,"div",5)(11,"div",6)(12,"input",7),C("ngModelChange",function(l){return b(o.searchTerm,l)||(o.searchTerm=l),l}),p("input",function(){return o.filterReviews()}),t()(),e(13,"div",8)(14,"select",9),C("ngModelChange",function(l){return b(o.statusFilter,l)||(o.statusFilter=l),l}),p("change",function(){return o.filterReviews()}),e(15,"option",10),n(16,"All Status"),t(),e(17,"option",11),n(18,"Pending"),t(),e(19,"option",12),n(20,"Approved"),t(),e(21,"option",13),n(22,"Rejected"),t()(),e(23,"select",9),C("ngModelChange",function(l){return b(o.ratingFilter,l)||(o.ratingFilter=l),l}),p("change",function(){return o.filterReviews()}),e(24,"option",10),n(25,"All Ratings"),t(),e(26,"option",14),n(27,"5 Stars"),t(),e(28,"option",15),n(29,"4 Stars"),t(),e(30,"option",16),n(31,"3 Stars"),t(),e(32,"option",17),n(33,"2 Stars"),t(),e(34,"option",18),n(35,"1 Star"),t()()()(),e(36,"div",19),x(37,H,38,19,"div",20),t(),e(38,"div",21)(39,"div",22)(40,"div",23),n(41,"\u2B50"),t(),e(42,"div",24)(43,"div",25),n(44),t(),e(45,"div",26),n(46,"Total Reviews"),t()()(),e(47,"div",22)(48,"div",23),n(49,"\u23F3"),t(),e(50,"div",24)(51,"div",25),n(52),t(),e(53,"div",26),n(54,"Pending"),t()()(),e(55,"div",22)(56,"div",23),n(57,"\u2705"),t(),e(58,"div",24)(59,"div",25),n(60),t(),e(61,"div",26),n(62,"Approved"),t()()(),e(63,"div",22)(64,"div",24)(65,"div",25),n(66),t(),e(67,"div",26),n(68,"Average Rating"),t()()()()()),r&2&&(a(12),_("ngModel",o.searchTerm),a(2),_("ngModel",o.statusFilter),a(9),_("ngModel",o.ratingFilter),a(14),u("ngForOf",o.filteredReviews),a(7),d(o.totalReviews),a(8),d(o.pendingReviews),a(8),d(o.approvedReviews),a(6),f("",o.averageRating,"/5"))},dependencies:[T,E,y,V,j,N,F,D,A,z,k,I],styles:[".reviews-page[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid #e2e8f0}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1e293b;margin:0 0 8px}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.filters-section[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;padding:20px;background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a}.search-box[_ngcontent-%COMP%]{flex:1}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:14px}.filter-controls[_ngcontent-%COMP%]{display:flex;gap:12px}.filter-select[_ngcontent-%COMP%]{padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;background:#fff;font-size:14px;min-width:150px}.reviews-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-bottom:24px}.review-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;box-shadow:0 1px 3px #0000001a}.review-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.review-info[_ngcontent-%COMP%]{flex:1}.product-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin-bottom:8px}.customer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.customer-name[_ngcontent-%COMP%]{font-weight:500;color:#374151}.verified-badge[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46;padding:2px 6px;border-radius:4px;font-size:.75rem;font-weight:500}.review-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:8px}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.stars[_ngcontent-%COMP%]{color:#fbbf24;font-size:1.125rem}.rating-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.review-date[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.review-content[_ngcontent-%COMP%]{margin-bottom:16px}.review-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin:0 0 8px}.review-comment[_ngcontent-%COMP%]{color:#64748b;line-height:1.6;margin:0}.review-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.review-stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.helpful-count[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.review-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:500;text-transform:uppercase}.status-badge.pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-badge.approved[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.status-badge.rejected[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:8px;border-radius:4px;cursor:pointer;font-size:1rem;transition:background-color .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f1f5f9}.btn-icon.danger[_ngcontent-%COMP%]:hover{background:#fee2e2}.review-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:24px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;box-shadow:0 1px 3px #0000001a;display:flex;align-items:center;gap:16px}.stat-icon[_ngcontent-%COMP%]{font-size:2rem}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin-bottom:4px}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid transparent;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s;text-decoration:none;display:inline-flex;align-items:center;gap:8px}.btn-outline[_ngcontent-%COMP%]{background-color:transparent;border-color:#d1d5db;color:#374151}.btn-outline[_ngcontent-%COMP%]:hover{background-color:#f8fafc}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.filters-section[_ngcontent-%COMP%]{flex-direction:column}.filter-controls[_ngcontent-%COMP%]{flex-wrap:wrap}.review-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.review-meta[_ngcontent-%COMP%]{align-items:flex-start}.review-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.review-stats[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{W as ReviewsComponent};
