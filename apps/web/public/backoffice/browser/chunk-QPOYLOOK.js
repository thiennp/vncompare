import{d as y}from"./chunk-MMURXA66.js";import{Bb as U,Cb as k,Da as M,Eb as A,Ga as _,Gb as E,Ta as d,Ua as t,Va as n,Vb as w,W as u,Wa as P,X as f,Xa as b,Ya as c,Za as p,ab as v,bb as i,cb as x,db as m,eb as C,ib as O,kb as S,ta as r,xa as h}from"./chunk-PQRQHPXD.js";function T(a,o){if(a&1){let e=b();t(0,"div",9)(1,"div",10)(2,"span",11),i(3,"\u26A0\uFE0F"),n(),t(4,"span"),i(5),n(),t(6,"button",12),c("click",function(){u(e);let l=p();return f(l.loadUsers())}),i(7,"Retry"),n()()()}if(a&2){let e=p();r(5),x(e.error)}}function V(a,o){a&1&&(t(0,"div",13),P(1,"div",14),t(2,"p"),i(3,"Loading users..."),n()())}function N(a,o){if(a&1){let e=b();t(0,"tr")(1,"td",18)(2,"div",19)(3,"div",20),i(4),n(),t(5,"div",21)(6,"div",22),i(7),n(),t(8,"div",23),i(9),n()()()(),t(10,"td",24),i(11),n(),t(12,"td",25),i(13),n(),t(14,"td")(15,"span",26),i(16),n()(),t(17,"td")(18,"span",27),i(19),n()(),t(20,"td",28),i(21),O(22,"date"),n(),t(23,"td",29)(24,"div",30)(25,"button",31),c("click",function(){let l=u(e).$implicit,g=p(2);return f(g.viewUser(l))}),i(26," \u{1F441}\uFE0F "),n(),t(27,"button",32),c("click",function(){let l=u(e).$implicit,g=p(2);return f(g.editUser(l))}),i(28," \u270F\uFE0F "),n(),t(29,"button",33),c("click",function(){let l=u(e).$implicit,g=p(2);return f(g.toggleUserStatus(l))}),i(30),n()()()()}if(a&2){let e=o.$implicit;r(4),C(" ",e.firstName.charAt(0),"",e.lastName.charAt(0)," "),r(3),C("",e.firstName," ",e.lastName),r(2),m("ID: ",e.id),r(2),x(e.email),r(2),x(e.phone),r(2),v(e.role.toLowerCase()),r(),m(" ",e.role," "),r(2),v(e.isActive?"active":"inactive"),r(),m(" ",e.isActive?"Active":"Inactive"," "),r(2),x(S(22,16,e.createdAt,"short")),r(8),d("title",e.isActive?"Deactivate":"Activate"),r(),m(" ",e.isActive?"\u{1F6AB}":"\u2705"," ")}}function D(a,o){if(a&1&&(t(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th"),i(5,"User"),n(),t(6,"th"),i(7,"Email"),n(),t(8,"th"),i(9,"Phone"),n(),t(10,"th"),i(11,"Role"),n(),t(12,"th"),i(13,"Status"),n(),t(14,"th"),i(15,"Created"),n(),t(16,"th"),i(17,"Actions"),n()()(),t(18,"tbody"),_(19,N,31,19,"tr",17),n()()()),a&2){let e=p();r(19),d("ngForOf",e.users)}}var I=class a{constructor(o){this.apiService=o}loading=!1;error=null;users=[];ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.error=null,this.apiService.getUsers({limit:50,page:1}).subscribe({next:o=>{this.users=o.data,this.loading=!1},error:o=>{console.error("Error loading users:",o),this.error="Failed to load users",this.loading=!1,this.loadMockData()}})}loadMockData(){this.users=[{id:"USR-001",firstName:"Admin",lastName:"User",email:"admin@vncompare.com",phone:"+84901234567",role:"ADMIN",isActive:!0,emailVerified:!0,phoneVerified:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z",lastLoginAt:"2024-01-15T10:30:00Z",ordersCount:0,totalSpent:0},{id:"USR-002",firstName:"Nguyen",lastName:"Van A",email:"nguyenvana@email.com",phone:"+84901234568",role:"USER",isActive:!0,emailVerified:!0,phoneVerified:!1,createdAt:"2024-01-05T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z",lastLoginAt:"2024-01-14T15:20:00Z",ordersCount:3,totalSpent:25e5},{id:"USR-003",firstName:"Tran",lastName:"Thi B",email:"tranthib@email.com",phone:"+84901234569",role:"SUPPLIER",isActive:!0,emailVerified:!0,phoneVerified:!0,createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z",lastLoginAt:"2024-01-15T09:15:00Z",ordersCount:0,totalSpent:0}]}addUser(){console.log("Add user clicked")}viewUser(o){console.log("View user:",o)}editUser(o){console.log("Edit user:",o)}toggleUserStatus(o){console.log("Toggle user status:",o)}static \u0275fac=function(e){return new(e||a)(h(y))};static \u0275cmp=M({type:a,selectors:[["app-users"]],decls:15,vars:5,consts:[[1,"users-page"],[1,"page-header"],[1,"header-content"],[1,"header-actions"],[1,"btn","btn-outline",3,"click","disabled"],[1,"btn","btn-primary",3,"click"],["class","error-message",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"error-message"],[1,"error-content"],[1,"error-icon"],[1,"btn","btn-sm","btn-outline",3,"click"],[1,"loading-state"],[1,"loading-spinner"],[1,"table-container"],[1,"users-table"],[4,"ngFor","ngForOf"],[1,"user-cell"],[1,"user-info"],[1,"user-avatar"],[1,"user-details"],[1,"user-name"],[1,"user-id"],[1,"email-cell"],[1,"phone-cell"],[1,"role-badge"],[1,"status-badge"],[1,"date-cell"],[1,"actions-cell"],[1,"action-buttons"],["title","View",1,"btn-icon",3,"click"],["title","Edit",1,"btn-icon",3,"click"],[1,"btn-icon",3,"click","title"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4,"User Management"),n(),t(5,"p"),i(6,"Manage users, roles, and permissions"),n()(),t(7,"div",3)(8,"button",4),c("click",function(){return s.loadUsers()}),i(9),n(),t(10,"button",5),c("click",function(){return s.addUser()}),i(11," \u2795 Add User "),n()()(),_(12,T,8,1,"div",6)(13,V,4,0,"div",7)(14,D,20,1,"div",8),n()),e&2&&(r(8),d("disabled",s.loading),r(),m(" ",s.loading?"Loading...":"Refresh"," "),r(3),d("ngIf",s.error),r(),d("ngIf",s.loading&&!s.error),r(),d("ngIf",!s.loading||s.users.length>0))},dependencies:[E,U,k,w,A],styles:[".users-page[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1e293b;margin:0 0 8px}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.error-message[_ngcontent-%COMP%]{background:#fee2e2;border:1px solid #fecaca;border-radius:8px;padding:16px;margin-bottom:24px}.error-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.error-icon[_ngcontent-%COMP%]{font-size:1.25rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f4f6;border-top:4px solid #3730a3;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.users-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;padding:16px;text-align:left;font-weight:600;color:#374151;border-bottom:1px solid #e5e7eb}.users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #f1f5f9}.user-cell[_ngcontent-%COMP%]{min-width:200px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#3730a3;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.875rem}.user-details[_ngcontent-%COMP%]{flex:1}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;margin-bottom:2px}.user-id[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.email-cell[_ngcontent-%COMP%], .phone-cell[_ngcontent-%COMP%]{font-family:monospace;font-size:.875rem}.role-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:500;text-transform:uppercase}.role-badge.user[_ngcontent-%COMP%]{background:#dbeafe;color:#2563eb}.role-badge.supplier[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.role-badge.admin[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:500;text-transform:capitalize}.status-badge.active[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.status-badge.inactive[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.date-cell[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.actions-cell[_ngcontent-%COMP%]{min-width:120px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border:1px solid #d1d5db;background:#fff;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.875rem;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid transparent;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s;text-decoration:none;display:inline-flex;align-items:center;gap:8px}.btn-outline[_ngcontent-%COMP%]{background-color:transparent;border-color:#d1d5db;color:#374151}.btn-outline[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#9ca3af}.btn-outline[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#3730a3;color:#fff;border-color:#3730a3}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#312e81;border-color:#312e81}.btn-sm[_ngcontent-%COMP%]{padding:4px 8px;font-size:12px}@media (max-width: 768px){.users-page[_ngcontent-%COMP%]{padding:16px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.users-table[_ngcontent-%COMP%]{font-size:14px}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:4px}}"]})};export{I as UsersComponent};
